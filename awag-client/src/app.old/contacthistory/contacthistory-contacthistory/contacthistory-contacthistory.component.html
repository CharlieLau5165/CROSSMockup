<!-- Generated by AWAG -->
<router-outlet name="modal"></router-outlet>
<h1 class="fs-4 pb-2">{{ 'awag.prj.uc.contacthistory.sc.contacthistory.name' | translate}}</h1>
<form name="form" #form="ngForm" class="awag-form-contacthistory-contacthistory">
  <app-awag-alert></app-awag-alert>
@if (!isVisibilityHidden('_group0')) {
  <div class="awag-section-_group0 mb-3 search-group" [awagVisibility]="visibilityConfig['_group0']['*']">
    <div ngbAccordion>
      <div ngbAccordionItem [collapsed]="false" [disabled]="false">
        <div ngbAccordionCollapse>
          <div ngbAccordionBody>
            <ng-template>
              <div class="container-fluid">
                <div class="row">
                  <!-- 登録日開始: TEXT -->
                  <div class="col-md-2 col-sm-6 col-12 pb-2 col-ext col-regDate">
                  @if (!isVisibilityHidden('_group0','regDate')) {
                    <div class="crm-text" [awagVisibility]="visibilityConfig['_group0']['regDate']">
                      <div class="has-validation">
                        <label class="form-label" for="_group0-regDate">{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group0.regdate' | translate }}</label>
                        <div class="input-group awag-validity">
                          <input class="form-control awag-validity regDate" id="_group0-regDate" name="regDate" type="date" placeholder="" min="1970-01-01" max="2999-12-31" step="1" [(ngModel)]="model.search.regDate" #_group0_regDate="ngModel" awagText />
                        </div>
                        <div class="invalid-feedback regDate-feedback" id="_group0-regDate-feedback"></div>
                      </div>
                    </div>
                  }
                  </div>
                  <!-- 登録日終了: TEXT -->
                  <div class="col-md-2 col-sm-6 col-12 pb-2 col-ext col-regFinDate">
                  @if (!isVisibilityHidden('_group0','regFinDate')) {
                    <div class="crm-text" [awagVisibility]="visibilityConfig['_group0']['regFinDate']">
                      <div class="has-validation">
                        <label class="form-label" for="_group0-regFinDate">{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group0.regfindate' | translate }}</label>
                        <div class="input-group awag-validity">
                          <input class="form-control awag-validity regFinDate" id="_group0-regFinDate" name="regFinDate" type="date" placeholder="" min="1970-01-01" max="2999-12-31" step="1" [(ngModel)]="model.search.regFinDate" #_group0_regFinDate="ngModel" awagText />
                        </div>
                        <div class="invalid-feedback regFinDate-feedback" id="_group0-regFinDate-feedback"></div>
                      </div>
                    </div>
                  }
                  </div>
                  <!-- チャネル種別: SELECT -->
                  <div class="col-md-2 col-sm-6 col-12 pb-2 col-ext col-chanelType">
                  @if (!isVisibilityHidden('_group0','chanelType')) {
                    <div class="crm-text" [awagVisibility]="visibilityConfig['_group0']['chanelType']">
                      <div class="has-validation">
                        <label class="form-label" for="_group0-chanelType">{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group0.chaneltype' | translate }}</label>
                        <div class="input-group awag-validity">
                          <select class="form-select awag-select-multiple awag-validity chanelType" multiple size="true" id="_group0-chanelType" name="chanelType" [(ngModel)]="model.search.chanelType" #_group0_chanelType="ngModel" awagSelect>
                            <option *ngFor="let opt of chanelOptCode" [value]="opt.value">{{opt.name}}</option>
                          </select>
                        </div>
                        <div class="invalid-feedback chanelType-feedback" id="_group0-chanelType-feedback">{{ 'awag.label.sc.select.required' | translate }}</div>
                      </div>
                    </div>
                  }
                  </div>
                  <!-- 処理: SELECT -->
                  <div class="col-md-2 col-sm-6 col-12 pb-2 col-ext col-processing">
                  @if (!isVisibilityHidden('_group0','processing')) {
                    <div class="crm-text" [awagVisibility]="visibilityConfig['_group0']['processing']">
                      <div class="has-validation">
                        <label class="form-label" for="_group0-processing">{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group0.processing' | translate }}</label>
                        <div class="input-group awag-validity">
                          <select class="form-select awag-select-multiple awag-validity processing" multiple size="true" id="_group0-processing" name="processing" [(ngModel)]="model.search.processing" #_group0_processing="ngModel" awagSelect>
                            <option *ngFor="let opt of ProcessOptCode" [value]="opt.value">{{opt.name}}</option>
                          </select>
                        </div>
                        <div class="invalid-feedback processing-feedback" id="_group0-processing-feedback">{{ 'awag.label.sc.select.required' | translate }}</div>
                      </div>
                    </div>
                  }
                  </div>
                  <!-- コンタクト分類: SELECT -->
                  <div class="col-md-2 col-sm-6 col-12 pb-2 col-ext col-contactType">
                  @if (!isVisibilityHidden('_group0','contactType')) {
                    <div class="crm-text" [awagVisibility]="visibilityConfig['_group0']['contactType']">
                      <div class="has-validation">
                        <label class="form-label" for="_group0-contactType">{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group0.contacttype' | translate }}</label>
                        <div class="input-group awag-validity">
                          <select class="form-select awag-select-multiple awag-validity contactType" multiple size="true" id="_group0-contactType" name="contactType" [(ngModel)]="model.search.contactType" #_group0_contactType="ngModel" awagSelect>
                            <option *ngFor="let opt of ContactTypeOptCode" [value]="opt.value">{{opt.name}}</option>
                          </select>
                        </div>
                        <div class="invalid-feedback contactType-feedback" id="_group0-contactType-feedback">{{ 'awag.label.sc.select.required' | translate }}</div>
                      </div>
                    </div>
                  }
                  </div>
                  <!-- 余白: SPACER -->
                  <div class="col-md-2 col-sm-6 col-12 pb-2 d-none d-md-block col-ext col-dummy">
                  @if (!isVisibilityHidden('_group0','dummy')) {
                    <div class="" [awagVisibility]="visibilityConfig['_group0']['dummy']">
                      <span class="dummy" id="_group0-dummy"></span>
                    </div>
                  }
                  </div>
                </div>
              </div>
              <div class="d-grid gap-2 d-md-flex justify-content-md-center">
              @if (!isVisibilityHidden('_group0','awagSearch')) {
                <button class="btn btn-primary search-button" id="_group0-awagSearch" name="awagSearch" type="button" (click)="!eventProcessing && awagSearch()" [disabled]="eventProcessing || isVisibilityInactive('_group0', 'awagSearch')" [awagVisibility]="visibilityConfig['_group0']['awagSearch']">
                  <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group0.awagsearch' | translate }}</span>
                </button>
              }
              @if (!isVisibilityHidden('_group0','awagReset')) {
                <button class="btn btn-secondary" id="_group0-awagReset" name="awagReset" type="button" (click)="awagReset()" [awagVisibility]="visibilityConfig['_group0']['awagReset']">
                  <span>{{ 'awag.label.sc.standard.awagSearch.button.clear' | translate }}</span>
                </button>
              }
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
}
  <div ngbAccordion class="awag-accordion-group mb-3">
    <div ngbAccordionItem [collapsed]="false" [disabled]="false">
      <h2 ngbAccordionHeader>
        <button class="" id="1-accordion" name="1-accordion" type="button" ngbAccordionButton>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group1._group_name' | translate }}</button>
      </h2>
      <div ngbAccordionCollapse>
        <div ngbAccordionBody>
          <ng-template>
@if (!isVisibilityHidden('_group1')) {
  <div class="awag-section-_group1 mb-3 search-result" [awagVisibility]="visibilityConfig['_group1']['*']">
    <div ngbAccordion>
      <div ngbAccordionItem [collapsed]="false" [disabled]="true">
        <div ngbAccordionCollapse>
          <div ngbAccordionBody>
            <ng-template>
              <div class="container-fluid">
                <div class="row">
                  <!-- 詳細: BUTTON -->
                  <div class="col-md-3 col-sm-6 col-12 pb-2 col-ext col-detail">
                  @if (!isVisibilityHidden('_group1','detail')) {
                    <div class="detail-button" [awagVisibility]="visibilityConfig['_group1']['detail']">
                      <div class="input-group">
                        <button class="btn btn-outline-secondary detail" id="_group1-detail" name="detail" type="button" (click)="!eventProcessing && detail()" [disabled]="eventProcessing || isVisibilityInactive('_group1','detail')">
                          <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group1.detail' | translate }}</span>
                        </button>
                      </div>
                    </div>
                  }
                  </div>
                </div>
              </div>
              <div class="d-grid gap-2 d-md-flex justify-content-md-center">
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
}
@if (!isVisibilityHidden('list')) {
  <div class="awag-section-list mb-3" [awagVisibility]="visibilityConfig['list']['*']">
    <div ngbAccordion>
      <div ngbAccordionItem [collapsed]="false" [disabled]="true">
        <div ngbAccordionCollapse>
          <div ngbAccordionBody>
            <ng-template>
              <div class="table-responsive mb-2 awag-table">
                <table class="table table-responsive table-striped table-hover" attr.aria-label="{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list._name' | translate }}">
                  <thead>
                    <tr>
                      <!-- 登録日: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','regDate')) {
                        <div [awagVisibility]="visibilityConfig['list']['regDate']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-regDate" id="list-awagTableHeader-regDate" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="regDate">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.regdate' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- チャネル: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','chanel')) {
                        <div [awagVisibility]="visibilityConfig['list']['chanel']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-chanel" id="list-awagTableHeader-chanel" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="chanel">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.chanel' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- 相手先区分: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','customerType')) {
                        <div [awagVisibility]="visibilityConfig['list']['customerType']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-customerType" id="list-awagTableHeader-customerType" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="customerType">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.customertype' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- 商品: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','product')) {
                        <div [awagVisibility]="visibilityConfig['list']['product']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-product" id="list-awagTableHeader-product" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="product">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.product' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- サービス内容: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','serviceContent')) {
                        <div [awagVisibility]="visibilityConfig['list']['serviceContent']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-serviceContent" id="list-awagTableHeader-serviceContent" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="serviceContent">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.servicecontent' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- サービス詳細: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','serviceDetail')) {
                        <div [awagVisibility]="visibilityConfig['list']['serviceDetail']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-serviceDetail" id="list-awagTableHeader-serviceDetail" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="serviceDetail">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.servicedetail' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- 処理: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','processing')) {
                        <div [awagVisibility]="visibilityConfig['list']['processing']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-processing" id="list-awagTableHeader-processing" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="processing">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.processing' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- 担当者名: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','pic')) {
                        <div [awagVisibility]="visibilityConfig['list']['pic']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-pic" id="list-awagTableHeader-pic" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="pic">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.pic' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- コンタクト分類: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','contactType')) {
                        <div [awagVisibility]="visibilityConfig['list']['contactType']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-contactType" id="list-awagTableHeader-contactType" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="contactType">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.contacttype' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- 担当者グループ名: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','picGroup')) {
                        <div [awagVisibility]="visibilityConfig['list']['picGroup']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-picGroup" id="list-awagTableHeader-picGroup" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="picGroup">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.picgroup' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                      <!-- コメント: OUTPUT -->
                      <th colspan="1" scope="col" aria-sort="none">
                      @if (!isVisibilityHidden('list','comment')) {
                        <div [awagVisibility]="visibilityConfig['list']['comment']">
                          <a class="link-body-emphasis link-underline link-underline-opacity-0 link-opacity-50-hover awagTableHeader-comment" id="list-awagTableHeader-comment" href="javascript:void(0)" [awagSortTable]="listListCtrl" sortKey="comment">
                            <span>{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl.list.comment' | translate }}</span>
                            <i class="bi bi-arrow-up"></i><i class="bi bi-arrow-down"></i>
                          </a>
                        </div>
                      }
                      </th>
                    </tr>
                  </thead>
                  <tbody class="table-group-divider">
                  @for (item of model.list; track $any(item) && $any(item).$$awagIndex !== undefined ? $any(item).$$awagIndex : $index; let i = $index) {
                    <tr>
                      <!-- 登録日: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','regDate')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['regDate']">
                          <span class="regDate-{{$any(item).$$awagIndex}}" id="list-regDate-{{i}}">{{ $any(item).regDate }}</span>
                        </div>
                      }
                      </td>
                      <!-- チャネル: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','chanel')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['chanel']">
                          <span class="chanel-{{$any(item).$$awagIndex}}" id="list-chanel-{{i}}">{{ $any(item).chanel }}</span>
                        </div>
                      }
                      </td>
                      <!-- 相手先区分: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','customerType')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['customerType']">
                          <span class="customerType-{{$any(item).$$awagIndex}}" id="list-customerType-{{i}}">{{ $any(item).customerType }}</span>
                        </div>
                      }
                      </td>
                      <!-- 商品: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','product')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['product']">
                          <span class="product-{{$any(item).$$awagIndex}}" id="list-product-{{i}}">{{ $any(item).product }}</span>
                        </div>
                      }
                      </td>
                      <!-- サービス内容: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','serviceContent')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['serviceContent']">
                          <span class="serviceContent-{{$any(item).$$awagIndex}}" id="list-serviceContent-{{i}}">{{ $any(item).serviceContent }}</span>
                        </div>
                      }
                      </td>
                      <!-- サービス詳細: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','serviceDetail')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['serviceDetail']">
                          <span class="serviceDetail-{{$any(item).$$awagIndex}}" id="list-serviceDetail-{{i}}">{{ $any(item).serviceDetail }}</span>
                        </div>
                      }
                      </td>
                      <!-- 処理: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','processing')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['processing']">
                          <span class="processing-{{$any(item).$$awagIndex}}" id="list-processing-{{i}}">{{ $any(item).processing }}</span>
                        </div>
                      }
                      </td>
                      <!-- 担当者名: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','pic')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['pic']">
                          <span class="pic-{{$any(item).$$awagIndex}}" id="list-pic-{{i}}">{{ $any(item).pic }}</span>
                        </div>
                      }
                      </td>
                      <!-- コンタクト分類: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','contactType')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['contactType']">
                          <span class="contactType-{{$any(item).$$awagIndex}}" id="list-contactType-{{i}}">{{ $any(item).contactType }}</span>
                        </div>
                      }
                      </td>
                      <!-- 担当者グループ名: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','picGroup')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['picGroup']">
                          <span class="picGroup-{{$any(item).$$awagIndex}}" id="list-picGroup-{{i}}">{{ $any(item).picGroup }}</span>
                        </div>
                      }
                      </td>
                      <!-- コメント: OUTPUT -->
                      <td class="align-top">
                      @if (!isVisibilityHidden('list','comment')) {
                        <div class="contract-table-item" [awagVisibility]="visibilityConfig['list']['comment']">
                          <span class="comment-{{$any(item).$$awagIndex}}" id="list-comment-{{i}}">{{ $any(item).comment }}</span>
                        </div>
                      }
                      </td>
                    </tr>
                  }
                  </tbody>
                </table>
              </div>
              <div class="d-grid gap-2 d-md-flex justify-content-md-center">
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
}
@if (!isVisibilityHidden('_group3')) {
  <div class="awag-section-_group3 mb-3 comment-part" [awagVisibility]="visibilityConfig['_group3']['*']">
    <div ngbAccordion>
      <div ngbAccordionItem [collapsed]="false" [disabled]="false">
        <div ngbAccordionCollapse>
          <div ngbAccordionBody>
            <ng-template>
              <div class="container-fluid">
                <div class="row">
                  <!-- 詳細コメント: OUTPUT -->
                  <div class="col-md-3 col-sm-6 col-12 pb-2 col-ext col-detailComment">
                  @if (!isVisibilityHidden('_group3','detailComment')) {
                    <div class="" [awagVisibility]="visibilityConfig['_group3']['detailComment']">
                      <label class="form-label" for="_group3-detailComment">{{ 'awag.prj.uc.contacthistory.sc.contacthistory.fl._group3.detailcomment' | translate }}</label>
                      <div class="input-group">
                        <span class="input-group-text form-control detailComment" id="_group3-detailComment">{{ model.search.detailComment }}</span>
                      </div>
                    </div>
                  }
                  </div>
                </div>
              </div>
              <div class="d-grid gap-2 d-md-flex justify-content-md-center">
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
}
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</form>
<div class="awag-footer-spacer"></div>
